(()=>{"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function b(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}function g(i,a){var b="undefined"!=typeof Symbol&&i[Symbol.iterator]||i["@@iterator"];if(!b){if(Array.isArray(i)||(b=f(i))||a&&i&&"number"==typeof i.length){b&&(i=b);var j=0,d=function(){};return{s:d,n:function(){return j>=i.length?{done:!0}:{done:!1,value:i[j++]}},e:function(b){throw b},f:d}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var k,l=!0,g=!1;return{s:function(){b=b.call(i)},n:function(){var c=b.next();return l=c.done,c},e:function(b){g=!0,k=b},f:function a(){try{l||null==b["return"]||b["return"]()}finally{if(g)throw a}}}}function f(e,f){if(e){if("string"==typeof e)return d(e,f);var b=Object.prototype.toString.call(e).slice(8,-1);return"Object"===b&&e.constructor&&(b=e.constructor.name),"Map"===b||"Set"===b?Array.from(e):"Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?d(e,f):void 0}}function d(e,a){(null==a||a>e.length)&&(a=e.length);for(var b=0,c=Array(a);b<a;b++)c[b]=e[b];return c}var e=function(){function h(a){c(this,h),this.bolsillo_Tarea=a,this.id=new Date().getTime(),this.completado=!1,this.creado=new Date}return b(h,null,[{key:"Reconstruyendo_instancias",value:function(a){var b=a.bolsillo_Tarea,c=a.id,d=a.completado,e=a.creado,f=new h(b);return f.id=c,f.completado=d,f.creado=e,f}}]),h}(),h=function(){function d(){c(this,d),this.cargar_en_LocalStorage()}return b(d,[{key:"todos",value:function(b){this.arregloTareas.push(b),this.almacenar_en_LocalStorage()}},{key:"eliminarTarea",value:function(c){this.arregloTareas=this.arregloTareas.filter(function(a){return a.id!=c}),this.almacenar_en_LocalStorage()}},{key:"completados",value:function(e){var a,b=g(this.arregloTareas);try{for(b.s();!(a=b.n()).done;){var c=a.value;c.id==e&&(c.completado=!c.completado)}}catch(c){b.e(c)}finally{b.f()}this.almacenar_en_LocalStorage()}},{key:"borrar_completados",value:function(){this.arregloTareas=this.arregloTareas.filter(function(b){return!b.completado}),this.almacenar_en_LocalStorage()}},{key:"almacenar_en_LocalStorage",value:function(){localStorage.setItem("Todo",JSON.stringify(this.arregloTareas))}},{key:"cargar_en_LocalStorage",value:function(){this.arregloTareas=localStorage.getItem("Todo")?JSON.parse(localStorage.getItem("Todo")):[],this.arregloTareas=this.arregloTareas.map(function(b){return e.Reconstruyendo_instancias(b)})}}]),d}(),i=new h,j=document.querySelector(".todo-list"),k=document.querySelector(".new-todo"),l=document.querySelector(".clear-completed"),m=function(d){var a="\n        <li class=\"\" data-id=\"".concat(d.id,"\">\n            <div class=\"view\">\n                <input class=\"toggle\" type=\"checkbox\" ").concat(d.completado?"checked":"",">\n                <label>").concat(d.bolsillo_Tarea,"</label>\n                <button class=\"destroy\"></button>\n            </div>\n            <input class=\"edit\" value=\"Create a TodoMVC template\">\n        </li>\n        "),b=document.createElement("div");return b.innerHTML=a,j.append(b.firstElementChild),b.firstElementChild};i.arregloTareas.forEach(function(b){m(b)}),k.addEventListener("keyup",function(c){if(13===c.keyCode&&0<k.value.length){var a=new e(k.value);i.todos(a),m(a),k.value=""}}),j.addEventListener("click",function(e){var a=e.target.localName,b=e.target.parentElement.parentElement,c=b.getAttribute("data-id");a.includes("input")?(i.completados(c),b.classList.toggle("completed")):a.includes("button")&&(i.eliminarTarea(c),j.removeChild(b))}),l.addEventListener("click",function(){i.borrar_completados();for(var c,a=j.children.length-1;0<=a;a--)c=j.children[a],c.classList.contains("completed")&&j.removeChild(c)});var n=document.querySelector(".filters"),o=document.querySelectorAll(".filtro");n.addEventListener("click",function(h){var a=h.target.text;if(a){o.forEach(function(b){b.classList.remove("selected")}),h.target.classList.add("selected");var b,c=g(j.children);try{for(c.s();!(b=c.n()).done;){var d=b.value;d.classList.remove("hidden");var e=d.classList.contains("completed");switch(a){case"Pendientes":e&&d.classList.add("hidden");;break;case"Completados":e||d.classList.add("hidden");;}}}catch(b){c.e(b)}finally{c.f()}}})})();